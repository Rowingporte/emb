Syst√®me de Mesure de Distance Ultrason (HC-SR04)Ce projet consiste en l'impl√©mentation d'un syst√®me embarqu√© complet sous Linux (Buildroot) sur une carte STM32MP157. Il permet de mesurer une distance via un capteur HC-SR04, de traiter la donn√©e dans le Kernel Space pour garantir pr√©cision et s√©curit√©, et de visualiser les r√©sultats (moyenne, √©cart-type, distribution de Gauss) sur une interface web d√©port√©e.üöÄ Fonctionnalit√©sDriver Kernel (C) : Pilotage du capteur HC-SR04 via les GPIOs (PA11/PA12) et gestion pr√©cise du temps.Interface FS : Lecture de la distance directement depuis le syst√®me de fichiers (/dev/hc_sr04).Acc√®s S√©curis√© : Restriction de l'acc√®s aux mesures via les permissions Linux.Dashboard Statistique : Interface web interactive affichant :La distance en temps r√©el.Une jauge de proximit√© dynamique (couleurs alertes).Une courbe de Gauss g√©n√©r√©e sur les 1000 derni√®res mesures pour analyser la stabilit√© du capteur.üõ†Ô∏è Architecture Mat√©rielleLe capteur est reli√© au connecteur Arduino de la STM32MP157 :VCC : 5VGND : GroundTRIG (D√©clenchement) : GPIO PA12 (Configur√© en sortie)ECHO (Retour) : GPIO PA11 (Configur√© en entr√©e avec interruption)üíª Impl√©mentation Logicielle1. Kernel Space (Le Driver)Le driver est impl√©ment√© comme un Platform Driver. Il utilise le Device Tree pour r√©cup√©rer les ressources GPIO.Pr√©cision : Utilisation des fonctions ktime_get pour une pr√©cision √† la microseconde.S√©curit√© : L'acc√®s au hardware est encapsul√© dans le noyau, exposant uniquement la valeur finale √† l'espace utilisateur via copy_to_user.2. Interface Web & StatistiquesL'affichage d√©port√© r√©cup√®re les donn√©es du driver. Pour valider la fiabilit√© du capteur, nous appliquons la loi normale (Distribution Gaussienne) :$$f(x) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^2}$$Moyenne ($\mu$) : Repr√©sente la distance r√©elle mesur√©e.√âcart-type ($\sigma$) : Mesure la dispersion (le bruit) du capteur. Plus la courbe est √©troite, plus le driver est pr√©cis.Shutterstocküì¶ InstallationConfiguration BuildrootInt√©grer le fichier DTS personnalis√© dans board/insa/see/.Activer libgpiod dans make menuconfig.Compiler l'image : make.D√©ploiement du DriverBashinsmod hc_sr04.ko
# V√©rifier la cr√©ation du device
ls -l /dev/hc_sr04
Lancement du DashboardBash# Lancer le serveur (Django/Flask)
python manage.py runserver 0.0.0.0:8000
